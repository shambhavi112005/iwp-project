<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Evaluation Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: slideDown 1s ease-out;
        }

        .header h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            color: rgba(255,255,255,0.9);
            font-size: 1.2rem;
        }

        .login-section {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 40px;
            animation: fadeInUp 0.8s ease-out;
        }

        .login-btn {
            padding: 20px 40px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .login-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }

        .login-btn.teacher {
            background: linear-gradient(45deg, #48dbfb, #0abde3);
        }

        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .modal-content {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255,255,255,0.2);
            animation: modalSlideIn 0.3s ease-out;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            text-align: center;
            color: white;
            font-size: 1.8rem;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: white;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1rem;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .form-group input::placeholder, .form-group textarea::placeholder {
            color: rgba(255,255,255,0.6);
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            background: rgba(255,255,255,0.2);
            border-color: #feca57;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn.login, .modal-btn.submit {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
        }

        .modal-btn.cancel {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .modal-btn:hover {
            transform: translateY(-2px);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .dashboard {
            display: none;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .dashboard.show {
            display: grid;
        }

        .student-dashboard {
            display: none;
        }

        .student-dashboard.show {
            display: block;
        }

        .teacher-dashboard {
            display: none;
        }

        .teacher-dashboard.show {
            display: block;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            animation: fadeInUp 0.8s ease-out;
        }

        .nav-tab {
            padding: 15px 30px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .nav-tab.active {
            background: linear-gradient(45deg, #48dbfb, #0abde3);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(72, 219, 251, 0.3);
        }

        .nav-tab:hover {
            transform: translateY(-2px);
            background: rgba(255,255,255,0.2);
        }

        .card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            animation: fadeInUp 0.8s ease-out;
            cursor: pointer;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            background: rgba(255,255,255,0.15);
        }

        .card h3 {
            color: white;
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .team-card {
            position: relative;
            overflow: hidden;
        }

        .team-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s ease;
        }

        .team-card:hover::before {
            left: 100%;
        }

        .icon {
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255,255,255,0.2);
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
            cursor: pointer;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
            border-radius: 6px;
            transition: width 1.5s ease-out;
            animation: shimmer 2s infinite;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            color: white;
            font-size: 1.1rem;
        }

        .metric-value {
            font-weight: bold;
            color: #feca57;
        }

        .team-member {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #feca57;
            transition: all 0.3s ease;
        }

        .team-member:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }

        .team-member-name {
            color: white;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .team-member-roll {
            color: rgba(255,255,255,0.8);
            font-size: 0.9rem;
        }

        .logout-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            z-index: 1000;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            opacity: 0.6;
            animation: float 6s infinite linear;
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #48dbfb, #0abde3);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(-50%) translateY(-100px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(-50%) translateY(0);
        }

        .action-btn {
            margin-top: 15px;
            padding: 10px 20px;
            background: linear-gradient(45deg, #48dbfb, #0abde3);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .mark-btn {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            margin-left: 10px;
        }

        .marks-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .individual-mark {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }

        .mark-input {
            width: 80px;
            padding: 5px;
            text-align: center;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 5px;
            color: white;
        }

        .evaluation-table {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            overflow-x: auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            color: white;
        }

        .table th, .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .table th {
            background: rgba(255,255,255,0.1);
            font-weight: bold;
            color: #feca57;
        }

        .table tr:hover {
            background: rgba(255,255,255,0.05);
        }

        .status-badge {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status-completed {
            background: linear-gradient(45deg, #00d4aa, #01a3a4);
        }

        .status-progress {
            background: linear-gradient(45deg, #feca57, #ff9ff3);
        }

        .status-started {
            background: linear-gradient(45deg, #48dbfb, #0abde3);
        }

        .edit-mark-btn {
            padding: 5px 10px;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            font-size: 0.8rem;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .login-section {
                flex-direction: column;
                align-items: center;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }

            .nav-tabs {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="floating-particles" id="particles"></div>
    
    <div class="notification" id="notification">
        Welcome to Project Evaluation Dashboard!
    </div>

    <button class="logout-btn" id="logoutBtn" style="display: none;" onclick="logout()">Logout</button>

    <div class="container">
        <!-- Main Landing Page -->
        <div id="landingPage">
            <div class="header">
                <h1>ðŸš€ Project Evaluation Dashboard</h1>
                <p>Monitor Progress â€¢ Track Effectiveness â€¢ Assess Performance</p>
            </div>

            <div class="login-section">
                <button class="login-btn student" onclick="openLoginModal('student')">
                    ðŸ‘¨â€ðŸŽ“ Student Login
                </button>
                <button class="login-btn teacher" onclick="openLoginModal('teacher')">
                    ðŸ‘©â€ðŸ« Teacher Login
                </button>
            </div>
        </div>

        <!-- Student Dashboard -->
        <div id="studentDashboard" class="student-dashboard">
            <div class="header">
                <h1>ðŸ“š Student Dashboard</h1>
                <p id="welcomeMessage">Welcome back!</p>
            </div>

            <div class="dashboard show">
                <div class="card">
                    <h3><span class="icon">ðŸŽ¯</span>Project Details</h3>
                    <div class="metric">
                        <span>Project Title:</span>
                        <span class="metric-value" id="projectTitle">Loading...</span>
                    </div>
                    <div class="metric">
                        <span>Group Number:</span>
                        <span class="metric-value" id="groupNumber">Loading...</span>
                    </div>
                    <div class="metric">
                        <span>Contact Person:</span>
                        <span class="metric-value" id="contactPerson">Loading...</span>
                    </div>
                </div>

                <div class="card">
                    <h3><span class="icon">ðŸ‘¥</span>Team Members</h3>
                    <div id="teamMembers">Loading team members...</div>
                </div>

                <div class="card">
                    <h3><span class="icon">ðŸ“Š</span>Project Progress</h3>
                    <div class="metric">
                        <span>Current Status:</span>
                        <span class="metric-value" id="currentStatus">In Progress</span>
                    </div>
                    <div class="progress-bar" onclick="updateStudentProgress()">
                        <div class="progress-fill" id="studentProgressFill" style="width: 45%"></div>
                        <div class="progress-text" id="progressText">45%</div>
                    </div>
                    <button class="action-btn" onclick="updateStudentProgress()">Update Progress</button>
                    <div class="metric" style="margin-top: 15px;">
                        <span>Last Updated:</span>
                        <span class="metric-value" id="lastUpdated">Just now</span>
                    </div>
                </div>

                <div class="card">
                    <h3><span class="icon">ðŸ†</span>My Performance</h3>
                    <div class="metric">
                        <span>Individual Contribution:</span>
                        <span class="metric-value">85%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%"></div>
                    </div>
                    <div class="metric">
                        <span>Attendance:</span>
                        <span class="metric-value">92%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%"></div>
                    </div>
                    <div class="metric">
                        <span>Mentor Rating:</span>
                        <span class="metric-value">4.5/5.0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Teacher Dashboard -->
        <div id="teacherDashboard" class="teacher-dashboard">
            <div class="header">
                <h1>ðŸ‘©â€ðŸ« Teacher Dashboard</h1>
                <p>Manage Projects â€¢ Evaluate Teams â€¢ Track Progress</p>
            </div>

            <!-- Navigation Tabs -->
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showTeacherTab('overview')">ðŸ“Š Overview</button>
                <button class="nav-tab" onclick="showTeacherTab('teams')">ðŸ‘¥ Teams</button>
                <button class="nav-tab" onclick="showTeacherTab('evaluation')">ðŸ“ Evaluation</button>
            </div>

            <!-- Overview Tab -->
            <div id="overviewTab" class="dashboard show">
                <div class="card" style="animation-delay: 0.1s;">
                    <h3><span class="icon">ðŸ“Š</span>Overall Progress</h3>
                    <div class="metric">
                        <span>Total Projects:</span>
                        <span class="metric-value" id="totalProjects">5</span>
                    </div>
                    <div class="metric">
                        <span>Completed:</span>
                        <span class="metric-value" id="completedProjects">3</span>
                    </div>
                    <div class="metric">
                        <span>In Progress:</span>
                        <span class="metric-value" id="inProgressProjects">2</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%"></div>
                        <div class="progress-text">60%</div>
                    </div>
                </div>

                <div class="card" style="animation-delay: 0.2s;">
                    <h3><span class="icon">âš¡</span>Assessment Overview</h3>
                    <div class="metric">
                        <span>Average Grade:</span>
                        <span class="metric-value">B+</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 78%"></div>
                    </div>
                    <div class="metric">
                        <span>Projects Evaluated:</span>
                        <span class="metric-value">3/5</span>
                    </div>
                    <div class="metric">
                        <span>Pending Reviews:</span>
                        <span class="metric-value">2</span>
                    </div>
                </div>

                <div class="card" style="animation-delay: 0.3s;">
                    <h3><span class="icon">ðŸŽ¯</span>Recent Activities</h3>
                    <div class="team-member">
                        <div class="team-member-name">Group 4 - Project Evaluation Tool</div>
                        <div class="team-member-roll">Status updated to 'Completed'</div>
                    </div>
                    <div class="team-member">
                        <div class="team-member-name">Group 2 - ERP Research Module</div>
                        <div class="team-member-roll">New submission received</div>
                    </div>
                    <div class="team-member">
                        <div class="team-member-name">Group 5 - Internship Evaluation</div>
                        <div class="team-member-roll">Progress updated to 100%</div>
                    </div>
                </div>
            </div>

            <!-- Teams Tab -->
            <div id="teamsTab" class="dashboard">
                <!-- Teams will be dynamically generated here -->
            </div>

            <!-- Evaluation Tab -->
            <div id="evaluationTab" class="dashboard">
                <div class="evaluation-table">
                    <h3><span class="icon">ðŸ“</span>Student Evaluation Dashboard</h3>
                    <table class="table" id="evaluationTable">
                        <thead>
                            <tr>
                                <th>Reg. No.</th>
                                <th>Name</th>
                                <th>Class</th>
                                <th>Guide</th>
                                <th>Title</th>
                                <th>Domain</th>
                                <th>Domain & Problem (20 Marks)</th>
                                <th>Remarks</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="evaluationTableBody">
                            <!-- Table content will be dynamically generated -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="login-modal" id="loginModal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeLoginModal()">&times;</button>
            <div class="modal-header" id="modalTitle">Student Login</div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="registerNumber">Register Number:</label>
                    <input type="text" id="registerNumber" placeholder="Enter your register number" required>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="modal-btn cancel" onclick="closeLoginModal()">Cancel</button>
                    <button type="submit" class="modal-btn login">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Team Details Modal -->
    <div class="login-modal" id="teamModal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeTeamModal()">&times;</button>
            <div class="modal-header" id="teamModalTitle">Team Details</div>
            <div id="teamModalContent">
                <!-- Content will be dynamically generated -->
            </div>
        </div>
    </div>

    <!-- Marking Modal -->
    <div class="login-modal" id="markingModal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeMarkingModal()">&times;</button>
            <div class="modal-header">Assign Marks</div>
            <form id="markingForm">
                <div id="markingContent">
                    <!-- Content will be dynamically generated -->
                </div>
                <div class="modal-buttons">
                    <button type="button" class="modal-btn cancel" onclick="closeMarkingModal()">Cancel</button>
                    <button type="submit" class="modal-btn submit">Save Marks</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Enhanced project data with more details
        const projectData = {
            '2362342': { 
                group: 1, 
                name: 'LEKHA WADHWA', 
                project: 'Website for the AIML and Data Science departments', 
                contact: 'Dr. Michael', 
                members: ['LEKHA WADHWA (2362342)', 'Padmaja Shah (2362351)', 'Swarnim Pradhan (2362373)', 'Tenzin Palden Bhutia (2362376)'], 
                status: 'Started',
                progress: 65,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 0, individual: 0 },
                remarks: ''
            },
            '2362351': { 
                group: 1, 
                name: 'Padmaja Shah', 
                project: 'Website for the AIML and Data Science departments', 
                contact: 'Dr. Michael', 
                members: ['LEKHA WADHWA (2362342)', 'Padmaja Shah (2362351)', 'Swarnim Pradhan (2362373)', 'Tenzin Palden Bhutia (2362376)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 18, individual: 16 },
                remarks: 'Excellent work'
            },
            '2362373': { 
                group: 1, 
                name: 'Swarnim Pradhan', 
                project: 'Website for the AIML and Data Science departments', 
                contact: 'Dr. Michael', 
                members: ['LEKHA WADHWA (2362342)', 'Padmaja Shah (2362351)', 'Swarnim Pradhan (2362373)', 'Tenzin Palden Bhutia (2362376)'], 
                status: 'Started',
                progress: 65,4
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 15, individual: 14 },
                remarks: 'Good progress'
            },
            '2362376': { 
                group: 1, 
                name: 'Tenzin Palden Bhutia', 
                project: 'Website for the AIML and Data Science departments', 
                contact: 'Dr. Michael', 
                members: ['LEKHA WADHWA (2362342)', 'Padmaja Shah (2362351)', 'Swarnim Pradhan (2362373)', 'Tenzin Palden Bhutia (2362376)'], 
                status: 'Started',
                progress: 65,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 16, individual: 15 },
                remarks: 'Good effort'
            },
            
            '2362325': { 
                group: 2, 
                name: 'Drishya S Menon', 
                project: 'ERP module for department research and publications', 
                contact: 'Dr. SANDEEP KUMAR', 
                members: ['Drishya S Menon (2362325)', 'Hrishikesh Romesh (2362333)', 'Sai Bhuvana S (2362366)', 'Nicholas Briggs (2362349)', 'Neha Simon (2362378)'], 
                status: 'Started',
                progress: 45,
                domain: 'Database Management',
                class: '5BTCS DS',
                marks: { domain: 0, individual: 0 },
                remarks: ''
            },
            '2362333': { 
                group: 2, 
                name: 'Hrishikesh Romesh', 
                project: 'ERP module for department research and publications', 
                contact: 'Dr. SANDEEP KUMAR', 
                members: ['Drishya S Menon (2362325)', 'Hrishikesh Romesh (2362333)', 'Sai Bhuvana S (2362366)', 'Nicholas Briggs (2362349)', 'Neha Simon (2362378)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Database Management',
                class: '5BTCS DS',
                marks: { domain: 19, individual: 18 },
                remarks: 'Outstanding performance'
            },
            '2362366': { 
                group: 2, 
                name: 'Sai Bhuvana S', 
                project: 'ERP module for department research and publications', 
                contact: 'Dr. SANDEEP KUMAR', 
                members: ['Drishya S Menon (2362325)', 'Hrishikesh Romesh (2362333)', 'Sai Bhuvana S (2362366)', 'Nicholas Briggs (2362349)', 'Neha Simon (2362378)'], 
                status: 'Started',
                progress: 45,
                domain: 'Database Management',
                class: '5BTCS DS',
                marks: { domain: 14, individual: 13 },
                remarks: 'Needs improvement'
            },
            '2362349': { 
                group: 2, 
                name: 'Nicholas Briggs', 
                project: 'ERP module for department research and publications', 
                contact: 'Dr. SANDEEP KUMAR', 
                members: ['Drishya S Menon (2362325)', 'Hrishikesh Romesh (2362333)', 'Sai Bhuvana S (2362366)', 'Nicholas Briggs (2362349)', 'Neha Simon (2362378)'], 
                status: 'Started',
                progress: 45,
                domain: 'Database Management',
                class: '5BTCS DS',
                marks: { domain: 16, individual: 15 },
                remarks: 'Good work'
            },
            '2362378': { 
                group: 2, 
                name: 'Neha Simon', 
                project: 'ERP module for department research and publications', 
                contact: 'Dr. SANDEEP KUMAR', 
                members: ['Drishya S Menon (2362325)', 'Hrishikesh Romesh (2362333)', 'Sai Bhuvana S (2362366)', 'Nicholas Briggs (2362349)', 'Neha Simon (2362378)'], 
                status: 'Started',
                progress: 45,
                domain: 'Database Management',
                class: '5BTCS DS',
                marks: { domain: 15, individual: 14 },
                remarks: 'Satisfactory'
            },

            '2362364': { 
                group: 4, 
                name: 'Shambhavi Jaguri', 
                project: 'Project Evaluation Web Application', 
                contact: 'Dr. BIJEESH T V', 
                members: ['Shambhavi Jaguri (2362364)', 'Saksham Insan (2362152)', 'Diya Chouhan (2362324)', 'Riya Bajaj (2362360)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 20, individual: 19 },
                remarks: 'Excellent implementation'
            },
            '2362152': { 
                group: 4, 
                name: 'Saksham Insan', 
                project: 'Project Evaluation Web Application', 
                contact: 'Dr. BIJEESH T V', 
                members: ['Shambhavi Jaguri (2362364)', 'Saksham Insan (2362152)', 'Diya Chouhan (2362324)', 'Riya Bajaj (2362360)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 19, individual: 18 },
                remarks: 'Great work'
            },
            '2362324': { 
                group: 4, 
                name: 'Diya Chouhan', 
                project: 'Project Evaluation Web Application', 
                contact: 'Dr. BIJEESH T V', 
                members: ['Shambhavi Jaguri (2362364)', 'Saksham Insan (2362152)', 'Diya Chouhan (2362324)', 'Riya Bajaj (2362360)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 18, individual: 17 },
                remarks: 'Very good'
            },
            '2362360': { 
                group: 4, 
                name: 'Riya Bajaj', 
                project: 'Project Evaluation Web Application', 
                contact: 'Dr. BIJEESH T V', 
                members: ['Shambhavi Jaguri (2362364)', 'Saksham Insan (2362152)', 'Diya Chouhan (2362324)', 'Riya Bajaj (2362360)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 18, individual: 17 },
                remarks: 'Well done'
            },

            '2362372': { 
                group: 5, 
                name: 'Suhaas K', 
                project: 'Internship Evaluation Web Application', 
                contact: 'Dr. ARUL V', 
                members: ['Suhaas K (2362372)', 'Tanmay Tejaswi (2362374)', 'Rahul S (2362355)', 'Rewin Arokiya Raj E (2362357)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 19, individual: 18 },
                remarks: 'Excellent work'
            },
            '2362374': { 
                group: 5, 
                name: 'Tanmay Tejaswi', 
                project: 'Internship Evaluation Web Application', 
                contact: 'Dr. ARUL V', 
                members: ['Suhaas K (2362372)', 'Tanmay Tejaswi (2362374)', 'Rahul S (2362355)', 'Rewin Arokiya Raj E (2362357)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: 'AIML-C',
                marks: { domain: 18, individual: 17 },
                remarks: 'Good performance'
            },
            '2362355': { 
                group: 5, 
                name: 'Rahul S', 
                project: 'Internship Evaluation Web Application', 
                contact: 'Dr. ARUL V', 
                members: ['Suhaas K (2362372)', 'Tanmay Tejaswi (2362374)', 'Rahul S (2362355)', 'Rewin Arokiya Raj E (2362357)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 17, individual: 16 },
                remarks: 'Satisfactory'
            },
            '2362357': { 
                group: 5, 
                name: 'Rewin Arokiya Raj E', 
                project: 'Internship Evaluation Web Application', 
                contact: 'Dr. ARUL V', 
                members: ['Suhaas K (2362372)', 'Tanmay Tejaswi (2362374)', 'Rahul S (2362355)', 'Rewin Arokiya Raj E (2362357)'], 
                status: 'Completed',
                progress: 100,
                domain: 'Web Development',
                class: '5BTCS DS',
                marks: { domain: 17, individual: 16 },
                remarks: 'Good effort'
            }
        };

        let currentUser = null;
        let currentUserType = null;
        let studentProgress = 45;
        let currentTeacherTab = 'overview';

        // Get unique groups from project data
        function getGroups() {
            const groups = {};
            Object.values(projectData).forEach(student => {
                if (!groups[student.group]) {
                    groups[student.group] = {
                        group: student.group,
                        project: student.project,
                        contact: student.contact,
                        members: student.members,
                        status: student.status,
                        progress: student.progress,
                        domain: student.domain
                    };
                }
            });
            return groups;
        }

        // Initialize particles animation
        function createParticles() {
            const particles = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
                particles.appendChild(particle);
            }
        }

        // Show notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Open login modal
        function openLoginModal(userType) {
            currentUserType = userType;
            document.getElementById('loginModal').style.display = 'flex';
            document.getElementById('modalTitle').textContent = userType === 'student' ? 'Student Login' : 'Teacher Login';
            
            if (userType === 'teacher') {
                document.getElementById('registerNumber').placeholder = 'Enter your employee ID';
                document.querySelector('label[for="registerNumber"]').textContent = 'Employee ID:';
            } else {
                document.getElementById('registerNumber').placeholder = 'Enter your register number';
                document.querySelector('label[for="registerNumber"]').textContent = 'Register Number:';
            }
        }

        // Close login modal
        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
            document.getElementById('loginForm').reset();
        }

        // Close team modal
        function closeTeamModal() {
            document.getElementById('teamModal').style.display = 'none';
        }

        // Close marking modal
        function closeMarkingModal() {
            document.getElementById('markingModal').style.display = 'none';
        }

        // Handle login form submission
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const registerNumber = document.getElementById('registerNumber').value;
            const password = document.getElementById('password').value;
            
            if (currentUserType === 'student') {
                if (projectData[registerNumber]) {
                    currentUser = registerNumber;
                    showStudentDashboard();
                    closeLoginModal();
                    showNotification('Welcome back, ' + projectData[registerNumber].name + '!');
                } else {
                    showNotification('Invalid register number. Please try again.');
                }
            } else {
                currentUser = registerNumber;
                showTeacherDashboard();
                closeLoginModal();
                showNotification('Welcome back, Teacher!');
            }
        });

        // Show student dashboard
        function showStudentDashboard() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('studentDashboard').classList.add('show');
            document.getElementById('logoutBtn').style.display = 'block';
            
            const student = projectData[currentUser];
            if (student) {
                document.getElementById('welcomeMessage').textContent = `Welcome back, ${student.name}!`;
                document.getElementById('projectTitle').textContent = student.project.substring(0, 50) + '...';
                document.getElementById('groupNumber').textContent = `Group ${student.group}`;
                document.getElementById('contactPerson').textContent = student.contact;
                
                const teamMembersDiv = document.getElementById('teamMembers');
                teamMembersDiv.innerHTML = '';
                student.members.forEach(member => {
                    const memberDiv = document.createElement('div');
                    memberDiv.className = 'team-member';
                    memberDiv.innerHTML = `
                        <div class="team-member-name">${member.split(' (')[0]}</div>
                        <div class="team-member-roll">${member.split(' (')[1]?.replace(')', '') || ''}</div>
                    `;
                    teamMembersDiv.appendChild(memberDiv);
                });
                
                document.getElementById('currentStatus').textContent = student.status;
                studentProgress = student.progress;
                updateProgressDisplay();
            }
        }

        // Show teacher dashboard
        function showTeacherDashboard() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('teacherDashboard').classList.add('show');
            document.getElementById('logoutBtn').style.display = 'block';
            
            generateTeamsTab();
            generateEvaluationTab();
            updateOverviewStats();
        }

        // Show teacher tab
        function showTeacherTab(tabName) {
            // Update active tab
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // Hide all tabs
            document.getElementById('overviewTab').classList.remove('show');
            document.getElementById('teamsTab').classList.remove('show');
            document.getElementById('evaluationTab').classList.remove('show');
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.add('show');
            currentTeacherTab = tabName;
        }

        // Generate teams tab
        function generateTeamsTab() {
            const teamsTab = document.getElementById('teamsTab');
            const groups = getGroups();
            
            teamsTab.innerHTML = '';
            
            Object.values(groups).forEach((group, index) => {
                const teamCard = document.createElement('div');
                teamCard.className = 'card team-card';
                teamCard.style.animationDelay = (index * 0.1) + 's';
                
                const statusClass = group.status === 'Completed' ? 'status-completed' : 
                                  group.status === 'Started' ? 'status-started' : 'status-progress';
                
                teamCard.innerHTML = `
                    <h3><span class="icon">${group.group}</span>Group ${group.group}</h3>
                    <div class="metric">
                        <span>Project:</span>
                        <span class="metric-value">${group.project.substring(0, 30)}...</span>
                    </div>
                    <div class="metric">
                        <span>Guide:</span>
                        <span class="metric-value">${group.contact}</span>
                    </div>
                    <div class="metric">
                        <span>Status:</span>
                        <span class="status-badge ${statusClass}">${group.status}</span>
                    </div>
                    <div class="metric">
                        <span>Progress:</span>
                        <span class="metric-value">${group.progress}%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${group.progress}%"></div>
                        <div class="progress-text">${group.progress}%</div>
                    </div>
                    <div class="metric">
                        <span>Domain:</span>
                        <span class="metric-value">${group.domain}</span>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="action-btn" onclick="viewTeamDetails(${group.group})">View Details</button>
                        <button class="action-btn mark-btn" onclick="openMarkingModal(${group.group})">Assign Marks</button>
                    </div>
                `;
                
                teamsTab.appendChild(teamCard);
            });
        }

        // Generate evaluation tab
        function generateEvaluationTab() {
            const tableBody = document.getElementById('evaluationTableBody');
            tableBody.innerHTML = '';
            
            Object.values(projectData).forEach(student => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${student.name.split(' (')[1]?.replace(')', '') || 'N/A'}</td>
                    <td>${student.name.split(' (')[0]}</td>
                    <td>${student.class}</td>
                    <td>${student.contact}</td>
                    <td>${student.project.substring(0, 30)}...</td>
                    <td>${student.domain}</td>
                    <td>
                        <input type="number" class="mark-input" value="${student.marks.domain}" 
                               onchange="updateMark('${student.name.split(' (')[1]?.replace(')', '')}', 'domain', this.value)"
                               min="0" max="20">
                    </td>
                    <td>
                        <input type="text" class="mark-input" value="${student.remarks}" 
                               onchange="updateRemarks('${student.name.split(' (')[1]?.replace(')', '')}', this.value)"
                               style="width: 150px;">
                    </td>
                    <td>
                        <button class="edit-mark-btn" onclick="editStudentMarks('${student.name.split(' (')[1]?.replace(')', '')}')">
                            Edit
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // View team details
        function viewTeamDetails(groupNumber) {
            const group = Object.values(projectData).find(s => s.group === groupNumber);
            if (!group) return;
            
            const modal = document.getElementById('teamModal');
            const content = document.getElementById('teamModalContent');
            
            document.getElementById('teamModalTitle').textContent = `Group ${groupNumber} - Details`;
            
            content.innerHTML = `
                <div class="form-group">
                    <label>Project Title:</label>
                    <div style="color: white; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                        ${group.project}
                    </div>
                </div>
                <div class="form-group">
                    <label>Guide:</label>
                    <div style="color: #feca57; font-weight: bold;">${group.contact}</div>
                </div>
                <div class="form-group">
                    <label>Domain:</label>
                    <div style="color: #feca57; font-weight: bold;">${group.domain}</div>
                </div>
                <div class="form-group">
                    <label>Current Status:</label>
                    <div style="color: #48dbfb; font-weight: bold;">${group.status}</div>
                </div>
                <div class="form-group">
                    <label>Progress:</label>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${group.progress}%"></div>
                        <div class="progress-text">${group.progress}%</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Team Members:</label>
                    <div>
                        ${group.members.map(member => `
                            <div class="team-member">
                                <div class="team-member-name">${member.split(' (')[0]}</div>
                                <div class="team-member-roll">${member.split(' (')[1]?.replace(')', '') || ''}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            modal.style.display = 'flex';
        }

        // Open marking modal
        function openMarkingModal(groupNumber) {
            const groupMembers = Object.values(projectData).filter(s => s.group === groupNumber);
            if (groupMembers.length === 0) return;
            
            const modal = document.getElementById('markingModal');
            const content = document.getElementById('markingContent');
            
            content.innerHTML = `
                <div class="form-group">
                    <label>Group ${groupNumber} - ${groupMembers[0].project.substring(0, 40)}...</label>
                </div>
                ${groupMembers.map(member => `
                    <div class="form-group">
                        <label>${member.name}</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <div style="flex: 1;">
                                <label style="font-size: 0.9rem;">Domain & Problem (0-20):</label>
                                <input type="number" class="mark-input" value="${member.marks.domain}" 
                                       id="domain_${member.name.split(' (')[1]?.replace(')', '')}" 
                                       min="0" max="20" style="width: 100%;">
                            </div>
                            <div style="flex: 1;">
                                <label style="font-size: 0.9rem;">Individual (0-20):</label>
                                <input type="number" class="mark-input" value="${member.marks.individual}" 
                                       id="individual_${member.name.split(' (')[1]?.replace(')', '')}" 
                                       min="0" max="20" style="width: 100%;">
                            </div>
                        </div>
                        <div style="margin-top: 10px;">
                            <label style="font-size: 0.9rem;">Remarks:</label>
                            <textarea class="mark-input" id="remarks_${member.name.split(' (')[1]?.replace(')', '')}" 
                                      style="width: 100%; height: 60px; resize: vertical;">${member.remarks}</textarea>
                        </div>
                    </div>
                `).join('')}
            `;
            
            modal.style.display = 'flex';
        }

        // Handle marking form submission
        document.getElementById('markingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Update marks for all students in the form
            Object.keys(projectData).forEach(regNo => {
                const domainInput = document.getElementById(`domain_${regNo}`);
                const individualInput = document.getElementById(`individual_${regNo}`);
                const remarksInput = document.getElementById(`remarks_${regNo}`);
                
                if (domainInput && individualInput && remarksInput) {
                    projectData[regNo].marks.domain = parseInt(domainInput.value) || 0;
                    projectData[regNo].marks.individual = parseInt(individualInput.value) || 0;
                    projectData[regNo].remarks = remarksInput.value || '';
                }
            });
            
            // Refresh evaluation table
            generateEvaluationTab();
            closeMarkingModal();
            showNotification('Marks updated successfully!');
        });

        // Update individual mark
        function updateMark(regNo, type, value) {
            const student = Object.values(projectData).find(s => 
                s.name.split(' (')[1]?.replace(')', '') === regNo
            );
            if (student) {
                student.marks[type] = parseInt(value) || 0;
                showNotification('Mark updated for ' + student.name.split(' (')[0]);
            }
        }

        // Update remarks
        function updateRemarks(regNo, value) {
            const student = Object.values(projectData).find(s => 
                s.name.split(' (')[1]?.replace(')', '') === regNo
            );
            if (student) {
                student.remarks = value;
                showNotification('Remarks updated for ' + student.name.split(' (')[0]);
            }
        }

        // Edit student marks
        function editStudentMarks(regNo) {
            const student = Object.values(projectData).find(s => 
                s.name.split(' (')[1]?.replace(')', '') === regNo
            );
            if (!student) return;
            
            const modal = document.getElementById('markingModal');
            const content = document.getElementById('markingContent');
            
            content.innerHTML = `
                <div class="form-group">
                    <label>Student: ${student.name.split(' (')[0]}</label>
                    <label style="font-size: 0.9rem; color: rgba(255,255,255,0.7);">Registration: ${regNo}</label>
                </div>
                <div class="form-group">
                    <label>Domain & Problem Identification (0-20 marks):</label>
                    <input type="number" class="mark-input" value="${student.marks.domain}" 
                           id="edit_domain_${regNo}" min="0" max="20" style="width: 100%;">
                </div>
                <div class="form-group">
                    <label>Individual Performance (0-20 marks):</label>
                    <input type="number" class="mark-input" value="${student.marks.individual}" 
                           id="edit_individual_${regNo}" min="0" max="20" style="width: 100%;">
                </div>
                <div class="form-group">
                    <label>Remarks:</label>
                    <textarea class="mark-input" id="edit_remarks_${regNo}" 
                              style="width: 100%; height: 80px; resize: vertical;">${student.remarks}</textarea>
                </div>
            `;
            
            // Update form submission handler for single student
            document.getElementById('markingForm').onsubmit = function(e) {
                e.preventDefault();
                
                const domainInput = document.getElementById(`edit_domain_${regNo}`);
                const individualInput = document.getElementById(`edit_individual_${regNo}`);
                const remarksInput = document.getElementById(`edit_remarks_${regNo}`);
                
                student.marks.domain = parseInt(domainInput.value) || 0;
                student.marks.individual = parseInt(individualInput.value) || 0;
                student.remarks = remarksInput.value || '';
                
                generateEvaluationTab();
                closeMarkingModal();
                showNotification('Marks updated for ' + student.name.split(' (')[0] + '!');
            };
            
            modal.style.display = 'flex';
        }

        // Update overview statistics
        function updateOverviewStats() {
            const totalProjects = Object.values(getGroups()).length;
            const completedProjects = Object.values(getGroups()).filter(g => g.status === 'Completed').length;
            const inProgressProjects = totalProjects - completedProjects;
            
            document.getElementById('totalProjects').textContent = totalProjects;
            document.getElementById('completedProjects').textContent = completedProjects;
            document.getElementById('inProgressProjects').textContent = inProgressProjects;
        }

        // Update student progress
        function updateStudentProgress() {
            if (studentProgress < 100) {
                studentProgress += Math.floor(Math.random() * 15) + 5;
                studentProgress = Math.min(studentProgress, 100);
                
                updateProgressDisplay();
                
                if (studentProgress === 100) {
                    document.getElementById('currentStatus').textContent = 'Completed';
                    showNotification('Congratulations! Project completed!');
                } else {
                    showNotification('Progress updated successfully!');
                }
                
                document.getElementById('lastUpdated').textContent = 'Just now';
                
                // Update in projectData
                if (projectData[currentUser]) {
                    projectData[currentUser].progress = studentProgress;
                    if (studentProgress === 100) {
                        projectData[currentUser].status = 'Completed';
                    }
                }
            } else {
                showNotification('Project already completed!');
            }
        }

        // Update progress display
        function updateProgressDisplay() {
            document.getElementById('studentProgressFill').style.width = studentProgress + '%';
            document.getElementById('progressText').textContent = studentProgress + '%';
        }

        // Logout function
        function logout() {
            currentUser = null;
            currentUserType = null;
            
            document.getElementById('studentDashboard').classList.remove('show');
            document.getElementById('teacherDashboard').classList.remove('show');
            document.getElementById('logoutBtn').style.display = 'none';
            
            document.getElementById('landingPage').style.display = 'block';
            
            showNotification('Logged out successfully!');
        }

        // Initialize everything when page loads
        window.addEventListener('load', () => {
            createParticles();
            setTimeout(() => showNotification('Welcome to Project Evaluation Dashboard!'), 1000);
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(e) {
            const loginModal = document.getElementById('loginModal');
            const teamModal = document.getElementById('teamModal');
            const markingModal = document.getElementById('markingModal');
            
            if (e.target === loginModal) {
                closeLoginModal();
            } else if (e.target === teamModal) {
                closeTeamModal();
            } else if (e.target === markingModal) {
                closeMarkingModal();
            }
        });

        // Add hover effects to cards
        document.addEventListener('DOMContentLoaded', function() {
            // Animate progress bars on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const progressBars = entry.target.querySelectorAll('.progress-fill');
                        progressBars.forEach(bar => {
                            const currentWidth = bar.style.width;
                            bar.style.width = '0%';
                            setTimeout(() => {
                                bar.style.width = currentWidth;
                            }, 100);
                        });
                    }
                });
            }, observerOptions);

            // Observe cards when they're added to the DOM
            const cardObserver = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    mutation.addedNodes.forEach((node) => {
                        if (node.classList && node.classList.contains('card')) {
                            observer.observe(node);
                            
                            // Add hover effects
                            node.addEventListener('mouseenter', () => {
                                node.style.background = 'rgba(255,255,255,0.15)';
                            });
                            
                            node.addEventListener('mouseleave', () => {
                                node.style.background = 'rgba(255,255,255,0.1)';
                            });
                        }
                    });
                });
            });

            cardObserver.observe(document.body, { childList: true, subtree: true });
            
            // Initial observation of existing cards
            document.querySelectorAll('.card').forEach(card => {
                observer.observe(card);
                
                card.addEventListener('mouseenter', () => {
                    card.style.background = 'rgba(255,255,255,0.15)';
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.background = 'rgba(255,255,255,0.1)';
                });
            });
        });

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Escape key to close modals
            if (e.key === 'Escape') {
                closeLoginModal();
                closeTeamModal();
                closeMarkingModal();
            }
            
            // Ctrl/Cmd + L for logout
            if ((e.ctrlKey || e.metaKey) && e.key === 'l' && currentUser) {
                e.preventDefault();
                logout();
            }
        });

        // Add smooth scrolling for better UX
        document.documentElement.style.scrollBehavior = 'smooth';

        // Enhanced notification system with different types
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            
            // Reset classes
            notification.className = 'notification';
            
            // Add type-specific styling
            switch(type) {
                case 'success':
                    notification.style.background = 'linear-gradient(45deg, #00d4aa, #01a3a4)';
                    break;
                case 'error':
                    notification.style.background = 'linear-gradient(45deg, #ff6b6b, #ee5a6f)';
                    break;
                case 'warning':
                    notification.style.background = 'linear-gradient(45deg, #feca57, #ff9ff3)';
                    break;
                default:
                    notification.style.background = 'linear-gradient(45deg, #48dbfb, #0abde3)';
            }
            
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Auto-save functionality for marks
        let saveTimeout;
        function autoSaveMark(regNo, type, value) {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => {
                updateMark(regNo, type, value);
            }, 500); // Save after 500ms of inactivity
        }

        // Export functionality (bonus feature)
        function exportEvaluationData() {
            const data = Object.values(projectData).map(student => ({
                'Registration Number': student.name.split(' (')[1]?.replace(')', '') || 'N/A',
                'Name': student.name.split(' (')[0],
                'Class': student.class,
                'Guide': student.contact,
                'Project': student.project,
                'Domain': student.domain,
                'Domain Marks': student.marks.domain,
                'Individual Marks': student.marks.individual,
                'Remarks': student.remarks,
                'Status': student.status,
                'Progress': student.progress + '%'
            }));
            
            const csv = [
                Object.keys(data[0]).join(','),
                ...data.map(row => Object.values(row).map(val => `"${val}"`).join(','))
            ].join('\n');
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'evaluation_data.csv';
            a.click();
            window.URL.revokeObjectURL(url);
            
            showNotification('Data exported successfully!', 'success');
        }

        // Add export button to evaluation tab (you can call this function)
        function addExportButton() {
            const evaluationTable = document.querySelector('.evaluation-table h3');
            if (evaluationTable && !document.getElementById('exportBtn')) {
                const exportBtn = document.createElement('button');
                exportBtn.id = 'exportBtn';
                exportBtn.className = 'action-btn';
                exportBtn.style.marginLeft = '20px';
                exportBtn.textContent = 'ðŸ“Š Export CSV';
                exportBtn.onclick = exportEvaluationData;
                evaluationTable.appendChild(exportBtn);
            }
        }

        // Enhanced search functionality
        function addSearchToEvaluationTable() {
            const evaluationTable = document.querySelector('.evaluation-table');
            if (evaluationTable && !document.getElementById('searchInput')) {
                const searchContainer = document.createElement('div');
                searchContainer.style.marginBottom = '20px';
                searchContainer.innerHTML = `
                    <input type="text" id="searchInput" placeholder="Search students..." 
                           style="width: 300px; padding: 10px; border-radius: 10px; 
                                  background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); 
                                  color: white;" onkeyup="searchStudents()">
                `;
                evaluationTable.insertBefore(searchContainer, evaluationTable.firstChild.nextSibling);
            }
        }

        function searchStudents() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const rows = document.querySelectorAll('#evaluationTableBody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        // Call these functions when evaluation tab is shown
        function enhanceEvaluationTab() {
            setTimeout(() => {
                addExportButton();
                addSearchToEvaluationTable();
            }, 100);
        }

        // Update the showTeacherTab function to include enhancements
        const originalShowTeacherTab = showTeacherTab;
        showTeacherTab = function(tabName) {
            originalShowTeacherTab.call(this, tabName);
            if (tabName === 'evaluation') {
                enhanceEvaluationTab();
            }
        };
    </script>
</body>
</html>